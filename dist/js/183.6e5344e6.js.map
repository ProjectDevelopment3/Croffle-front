{"version":3,"file":"js/183.6e5344e6.js","mappings":"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","sources":["webpack://croffle-frontend/./src/api/cafe.js","webpack://croffle-frontend/./src/components/Main/MainComponent.vue","webpack://croffle-frontend/./src/components/Main/SearchbarComponent.vue","webpack://croffle-frontend/./src/components/Main/SearchbarComponent.vue?0302","webpack://croffle-frontend/./src/components/Main/MainComponent.vue?3e40"],"sourcesContent":["/* Ïπ¥Ìéò Í¥ÄÎ†® ÏÑúÎπÑÏä§ api Ìï®Ïàò */\nimport { instance } from \"@/api/index\";\n\n/* Ïπ¥Ìéò */\n// Ïπ¥Ìéò Ï†ÑÏ≤¥ Ï°∞Ìöå\nfunction fetchCafes() {\n  return instance.get(\"cafes\");\n}\n\n// Ïπ¥Ìéò ÏÉÅÏÑ∏Ï†ïÎ≥¥ Ï°∞Ìöå\nfunction fetchCafeInfo(cafeId) {\n  const params = { id: cafeId };\n  return instance.get(\"cafe\", { params });\n}\n\nexport { fetchCafes, fetchCafeInfo };\n","<template>\n  <div>\n    <searchbar-component></searchbar-component>\n    <naver-maps\n      width=\"100%\"\n      height=\"100vh\"\n      class=\"main-container--map\"\n      @onLoad=\"onLoadMap(cafes)\"\n    >\n      <naver-marker\n        v-for=\"cafe in cafes\"\n        :key=\"cafe.id\"\n        :latitude=\"cafe.mapy\"\n        :longitude=\"cafe.mapx\"\n        @onLoad=\"onLoadMarker($event)\"\n        @click=\"openInfoWindow(cafe)\"\n      >\n        <img :src=\"ic__marker\" />\n        <!-- <button @click=\"fetchInfo\" class=\"btn--transparent\" id=\"btn-detail\"> -->\n        <!-- <img :src=\"ic__speechBubble\" /> -->\n        <!-- </button> -->\n      </naver-marker>\n      <naver-info-window\n        :marker=\"marker\"\n        :isOpen=\"isOpen\"\n        @onLoad=\"onLoadInfoWindow($event)\"\n      >\n        <div class=\"infowindow-style\">click Marker!üòé</div>\n      </naver-info-window>\n    </naver-maps>\n    <div class=\"map__wrapper\">\n      <p class=\"guide\" id=\"guide\">\n        ÏõêÏ†ïÎåÄÏóêÍ≤å ÏïåÎ†§Ï£ºÍ≥† Ïã∂ÏùÄ Ïπ¥ÌéòÍ∞Ä ÏûàÎÇòÏöî?<br />\n        Ïπ¥ÌéòÎ•º Ï∞æÏïÑ ÌÅ¨Î°úÌîå ÏõêÏ†ïÎåÄÏóê Ï†úÎ≥¥Ìï¥Ï£ºÏÑ∏Ïöî!\n      </p>\n      <button\n        type=\"button\"\n        @click=\"toCafeReport\"\n        class=\"btn--primary\"\n        id=\"btn-report\"\n      >\n        Ï†úÎ≥¥ÌïòÍ∏∞ +\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ic__speechBubble from \"@/assets/ic/speechBubble.svg\";\nimport ic__marker from \"@/assets/ic/marker.svg\";\nimport { fetchIpAddr, fetchLocation } from \"@/api/index\";\nimport { fetchCafes } from \"@/api/cafe\";\n\nimport SearchbarComponent from \"@/components/Main/SearchbarComponent.vue\";\nimport { ref } from \"vue\";\nimport { NaverMaps, NaverMarker, NaverInfoWindow } from \"vue3-naver-maps\";\nimport { saveAuthToCookie } from \"@/utils/cookies\";\n\nexport default {\n  components: {\n    SearchbarComponent,\n    NaverMaps,\n    NaverMarker,\n    NaverInfoWindow,\n  },\n  setup: () => {\n    const map = ref();\n    // const mapOptions = {\n    //   latitude: 37.541, // ÏßÄÎèÑ Ï§ëÏïô ÏúÑÎèÑ\n    //   longtitude: 126.986, // ÏßÄÎèÑ Ï§ëÏïô Í≤ΩÎèÑ\n    //   zoom: 16,\n    // };\n    const marker = ref();\n    const infoWindow = ref();\n    const isOpen = ref(false); // false: ÏïàÎ≥¥ÏûÑ, true: Î≥¥ÏûÑ\n\n    const onLoadInfoWindow = (infoWindowObject) => {\n      infoWindow.value = infoWindowObject;\n    };\n    const onLoadMarker = (markerObject) => {\n      marker.value = markerObject;\n    };\n    // ÎèÑÎ°úÎ™Ö Ï£ºÏÜåÎ•º ÏúÑÍ≤ΩÎèÑÎ°ú Î∞òÌôò\n    const onLoadMap = (cafes) => {\n      console.log(\"cafes\", cafes);\n      cafes = cafes.map((cafe) => {\n        window.naver.maps.Service.geocode(\n          {\n            address: cafe.roadaddr,\n            // mapx: cafe.mapx,\n            // mapy: cafe.mapy,\n          },\n          function (status, response) {\n            if (status !== window.naver.maps.Service.Status.OK) {\n              return alert(\"Something wrong!\");\n            }\n            var result = response.result;\n            console.log(\"ÎèÑÎ°úÎ™Ö Ï£ºÏÜå->Ï¢åÌëú Î∞òÌôòÍ≤∞Í≥º\", result.items[0].point);\n            cafe.mapx = parseFloat(result.items[0].point.x);\n            cafe.mapy = parseFloat(result.items[0].point.y);\n          }\n        );\n        console.log(\"Ïπ¥Ìéò ÎèÑÎ°úÎ™Ö Ï£ºÏÜå\", cafe);\n        return cafe;\n      });\n    };\n\n    return { onLoadMarker, map, marker, onLoadMap, isOpen, onLoadInfoWindow };\n  },\n  mounted() {\n    // ÎÑ§Ïù¥Î≤Ñ Î°úÍ∑∏Ïù∏\n    const naver_id_login = new window.naver_id_login(\n      \"WDBUTDGAh6YGJ6Umihxr\",\n      // \"http://34.64.32.174:8080/oauth2/authorization/naver?http://localhost:3000/cafes=34.64.45.86\"\n      \"http://34.64.32.174:8080/oauth2/authorization/naver?redirect_uri=http://34.64.45.86/cafes\"\n      // \"http://34.64.32.174:8080/oauth2/authorization/naver?http://localhost:3000/cafes\"\n      // \"http://localhost:3000/cafes\"\n    );\n    const token = naver_id_login.getAccessToken();\n    console.log(\"access token\", token);\n    // ÌÜ†ÌÅ∞Í∞í Ïä§ÌÜ†Ïñ¥Ïóê Ï†ÄÏû•\n    this.$store.commit(\"setToken\", token);\n    saveAuthToCookie(token);\n  },\n  async created() {\n    let headerActive = true;\n    this.$store.commit(\"isHeaderActive\", headerActive);\n    // this.getIpClient();\n    await this.getIpClient();\n    await this.fetchLocation2();\n    this.fetchCafes();\n  },\n  data() {\n    return {\n      ic__speechBubble,\n      ic__marker,\n      page: \"main\",\n      clientIp: \"\",\n      clientAddr: \"\",\n      cafes: [\n        {\n          id: \"0\",\n          name: \"\",\n          roadaddr: \"ÏÑúÏö∏ Ï§ëÍµ¨ ÏÑ∏Ï¢ÖÎåÄÎ°ú 135\",\n          coords: \"\",\n          mapx: 0,\n          mapy: 0,\n        },\n        {\n          id: \"2\",\n          name: \"\",\n          roadaddr: \"ÏÑúÏö∏ Ï§ëÍµ¨ ÏÑ∏Ï¢ÖÎåÄÎ°ú22Í∏∏ 16\",\n          coords: \"\",\n          mapx: 0,\n          mapy: 0,\n        },\n        {\n          id: \"3\",\n          name: \"\",\n          roadaddr: \"ÏÑúÏö∏ Ï§ëÍµ¨ ÏÑ∏Ï¢ÖÎåÄÎ°ú 110 ÏÑúÏö∏ÌäπÎ≥ÑÏãúÏ≤≠ \",\n          coords: \"\",\n          mapx: 0,\n          mapy: 0,\n        },\n      ],\n    };\n  },\n  methods: {\n    // Ïπ¥Ìéò Ï†úÎ≥¥ÌïòÍ∏∞\n    toCafeReport() {\n      this.$router.push(\"/cafes/report\");\n    },\n    // Îì±Î°ùÎêú Ïπ¥Ìéò Ï†ÑÏ≤¥ ÏßÄÎèÑÏóê Ï∂úÎ†•\n    async fetchCafes() {\n      try {\n        console.log(\"Ï†ÑÏ≤¥ Ïπ¥Ìéò Ï°∞Ìöå(ÏßÄÎèÑ Ï∂úÎ†•)\");\n        const { cafeData } = await fetchCafes();\n        this.cafes.id = cafeData.data.id;\n        this.cafes.name = cafeData.data.name;\n        this.cafes.roadaddr = cafeData.data.roadaddr;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    selectCafe(cafe) {\n      this.$router.push(`cafe/${cafe.id}`);\n    },\n    // ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ip Ï£ºÏÜå fetch\n    async getIpClient() {\n      try {\n        const response = await fetchIpAddr();\n        console.log(\"ÌÅ¥ÎùºÏù¥Ïñ∏Îìú ip Ï£ºÏÜå\", response.data);\n        // this.clientIp = response.data;\n        this.clientIp = response.data.toString();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    // ÌòÑÏû¨ Ï£ºÏÜå fetch\n    async fetchLocation2() {\n      try {\n        // console.log(\"jh teset\", await fetchLocation(this.clientIp));\n        // const { location } = await fetchLocation(this.clientIp);\n        console.log(\"jh clientIp\", this.clientIp);\n        const test = await fetchLocation(this.clientIp);\n        console.log(\"jh test\", test);\n        // console.log(\"ÌòÑÏúÑÏπò\", location);\n        // this.clientAddr = location;\n      } catch (error) {\n        console.error(error.message);\n      }\n    },\n    openInfoWindow(cafe) {\n      console.log(\"jh cafe\", this.marker, cafe);\n      this.marker = new window.naver.maps.Marker({\n        position: new window.naver.maps.LatLng(cafe.mapy, cafe.mapx),\n        map: window.naver.maps,\n      });\n      this.isOpen = !this.isOpen;\n\n      // console.log(\n      //   this.marker.getPosition(),\n      //   \"\\n\",\n      //   test.getPosition(),\n      //   JSON.stringify(this.marker.getPosition()) !==\n      //     JSON.stringify(test?.getPosition())\n      // );\n      // this.isOpen = false;\n      // if (\n      //   JSON.stringify(this.marker.getPosition()) !==\n      //   JSON.stringify(test?.getPosition())\n      // ) {\n      //   this.marker = test;\n      //   this.isOpen = true;\n      //   return;\n      // }\n      // this.marker = test;\n      // // this.isOpen = !this.isOpen;\n    },\n  },\n};\n</script>\n\n<style></style>\n","<template>\n  <div id=\"searchbar\">\n    <div class=\"searchbar__address\">\n      <img :src=\"ic_position\" />\n      <span>\n        <strong>ÌòÑÏû¨ ÏúÑÏπò</strong>\n      </span>\n      <span class=\"address\">\n        {{ address }}\n      </span>\n    </div>\n    <div class=\"input__box\">\n      <input placeholder=\"ÌÅ¨Î°úÌîå ÏõêÏ†ïÏùÑ Îñ†ÎÇ† ÏßÄÏó≠, Ïπ¥ÌéòÎ•º Í≤ÄÏÉâÌï¥Ï£ºÏÑ∏Ïöî.\" />\n      <button type=\"button\" @click=\"search\"><img :src=\"ic_magnifier\" /></button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ic_position from \"@/assets/ic/position.svg\";\nimport ic_magnifier from \"@/assets/ic/magnifier.svg\";\nexport default {\n  data() {\n    return {\n      ic_position,\n      ic_magnifier,\n      address: \"ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÑ±Î∂ÅÍµ¨\",\n    };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./SearchbarComponent.vue?vue&type=template&id=663e7fe1\"\nimport script from \"./SearchbarComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SearchbarComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Croffle-front/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MainComponent.vue?vue&type=template&id=7cc347df\"\nimport script from \"./MainComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MainComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Croffle-front/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["fetchCafes","instance","fetchCafeInfo","cafeId","params","id","_createElementVNode","class","_createElementBlock","_createVNode","_component_searchbar_component","_component_naver_maps","width","height","onOnLoad","_ctx","$data","_Fragment","_renderList","cafe","_createBlock","_component_naver_marker","key","latitude","mapy","longitude","mapx","$event","onClick","$options","src","_hoisted_1","_component_naver_info_window","marker","isOpen","_hoisted_2","_hoisted_4","type","placeholder","_hoisted_3","_toDisplayString","_hoisted_7","_hoisted_8","data","ic_position","ic_magnifier","address","__exports__","components","SearchbarComponent","NaverMaps","NaverMarker","NaverInfoWindow","setup","map","ref","infoWindow","onLoadInfoWindow","infoWindowObject","value","onLoadMarker","markerObject","onLoadMap","cafes","console","log","window","naver","maps","Service","geocode","roadaddr","status","response","Status","OK","alert","result","items","point","parseFloat","x","y","mounted","naver_id_login","token","getAccessToken","this","$store","commit","saveAuthToCookie","async","headerActive","getIpClient","fetchLocation2","ic__speechBubble","ic__marker","page","clientIp","clientAddr","name","coords","methods","toCafeReport","$router","push","cafeData","error","selectCafe","fetchIpAddr","toString","test","fetchLocation","message","openInfoWindow","Marker","position","LatLng","render"],"sourceRoot":""}