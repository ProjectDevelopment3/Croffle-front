"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[791],{797:function(e,n,t){t.d(n,{Dk:function(){return r},UB:function(){return i},j2:function(){return s}});var a=t(3376);function r(){return a.eE.get("cafes")}function s(e){return a.eE.get(`cafe?id=${e}`)}function i(e){return a.eE.get(`cafe/search?name=${e}`)}},6146:function(e,n,t){t.d(n,{X:function(){return r},w:function(){return s}});var a=t(3376);function r(e){return a.Uj.post("report/menu",e)}function s(e){return a.Uj.post("report/info",e)}},7791:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(3396),r=t(7139),s=t(9242);const i={id:"report-component"},o={class:"page-title"},u={class:"input__box"},c=(0,a._)("label",null,"카페명",-1),l={class:"info"},d={class:"input__box"},p=(0,a._)("label",null,"도로명 주소",-1),f={class:"info"},h={class:"input__box"},m=(0,a._)("label",null,"메뉴명",-1),_={class:"count"},g={class:"input__box"},b=(0,a._)("label",null,"가격",-1),v={class:"count"},w=(0,a._)("div",{class:"guide"},"크로플 메뉴만 등록할 수 있어요!",-1),y=["disabled"];function D(e,n,t,D,x,k){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("header",o,(0,r.zw)(x.header),1),(0,a._)("form",null,[(0,a._)("div",u,[c,(0,a._)("span",l,(0,r.zw)(x.cafeData[0].name),1)]),(0,a._)("div",d,[p,(0,a._)("span",f,(0,r.zw)(x.cafeData[0].roadaddr),1)]),(0,a._)("div",h,[m,(0,a._)("input",{placeholder:"메뉴명을 입력해주세요.",type:"text",onInput:n[0]||(n[0]=e=>this.menus.name=e.target.value),maxlength:"40"},null,32),(0,a._)("span",_,(0,r.zw)(k.menuLength)+"/40",1)]),(0,a._)("div",g,[b,(0,a.wy)((0,a._)("input",{placeholder:"가격을 입력해주세요.",type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>this.menus.price=e),maxlength:"20",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[s.nr,this.menus.price]]),(0,a._)("span",v,(0,r.zw)(k.priceLength)+"/20",1)])]),w,(0,a._)("button",{type:"button",class:(0,r.C_)(["btn--md",k.isValid?"btnPrimary":"btnDisabled"]),disabled:0==k.isValid,onClick:n[2]||(n[2]=(...e)=>k.reportMenu&&k.reportMenu(...e))}," 완료 ",10,y)])}var x=t(6146),k=t(797),z={data(){return{header:"메뉴 추가 제보하기",menus:{name:"",price:""},cafeData:[{name:"밀크북",roadaddr:"파주시 회현로"}]}},computed:{isValid(){return!(!this.menus.name||!this.menus.price)},menuLength(){return this.menus.name.length},priceLength(){return this.menus.price.length}},methods:{async reportMenu(){try{console.log("메뉴 제보 폼 제출");const e=await(0,x.X)({cafe_name:this.cafeData[0].name,roadAddress:this.cafeData[0].roadaddr,menus:{name:this.menus.name,price:this.menus.price}});console.log(e)}catch(e){console.log(e.response.status),console.log(e.response.headers)}finally{this.initForm()}},initForm(){this.rate="",this.content=""},async fetchCafeInfo(){try{const{cafeData:e}=await(0,k.j2)(this.$route.params.id);this.cafeData=e}catch(e){console.log(e)}}}},C=t(89);const j=(0,C.Z)(z,[["render",D]]);var L=j}}]);
//# sourceMappingURL=791.04e6d526.js.map