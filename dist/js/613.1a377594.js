"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[613],{7613:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var n=a(3396),o=a(9242),l=a(7139);const i={class:"community"},s=(0,n._)("header",{class:"page-title"},"커뮤니티",-1),r={class:"input__box"},c=(0,n._)("label",null,"게시글 카테고리",-1),d=(0,n._)("option",{value:"RECIPE"},"레시피 공유 글",-1),u=(0,n._)("option",{value:"FREE"},"자유 글",-1),h=[d,u],p={class:"input__box"},_=(0,n._)("label",null,"게시글 제목",-1),b={class:"input__box"},m=(0,n._)("label",null,"게시글 내용",-1),y=["disabled"];function f(t,e,a,d,u,f){return(0,n.wg)(),(0,n.iD)("div",i,[s,(0,n._)("form",null,[(0,n._)("div",r,[c,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.category=t)},h,512),[[o.bM,u.category]])]),(0,n._)("div",p,[_,(0,n.wy)((0,n._)("input",{placeholder:"게시글 제목을 입력해주세요.","onUpdate:modelValue":e[1]||(e[1]=t=>u.title=t),maxlength:"30"},null,512),[[o.nr,u.title]])]),(0,n._)("div",b,[m,(0,n.wy)((0,n._)("textarea",{placeholder:"게시글 내용을 입력해주세요.","onUpdate:modelValue":e[2]||(e[2]=t=>u.content=t),maxlength:"1500"},null,512),[[o.nr,u.content]])])]),(0,n._)("button",{onClick:e[3]||(e[3]=(...t)=>f.editPost&&f.editPost(...t)),type:"button",class:(0,l.C_)(["btn--md",f.isValid?"btnPrimary":"btnDisabled"]),disabled:0==f.isValid}," 게시글 수정 ",10,y)])}var g=a(6265),v=a.n(g),w={data(){return{title:"",content:"",category:""}},created(){this.fetchPost()},computed:{isValid(){return!(!this.title||!this.content)}},methods:{async editPost(){await v().put(` http://34.64.32.174:8080/board/${this.$route.params.id}`,{title:this.title,content:this.content,boardCategory:this.category},{headers:{Authorization:`Bearer ${this.$store.state.token}`}}),this.$router.push("/community")},async fetchPost(){const{data:t}=await v().get(` http://34.64.32.174:8080/board/${this.$route.params.id}`);console.log("커뮤니티 특정 게시글 조회",t),this.title=t.data[0].title,this.content=t.data[0].content,this.category=t.data[0].category}}},P=a(89);const $=(0,P.Z)(w,[["render",f]]);var k=$}}]);
//# sourceMappingURL=613.1a377594.js.map