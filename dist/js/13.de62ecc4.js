"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[13],{3376:function(e,n,t){t.d(n,{eE:function(){return u},Uj:function(){return l},yC:function(){return m}});var r=t(6265),s=t.n(r),a=t(5008);function i(e){return e.interceptors.request.use((function(e){return console.log(e),e.headers.Authorization=`Bearer ${(0,a.cd)()}`,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),e}function o(){return s().create({baseURL:"192.168.0.17:8080/"})}function c(){const e=s().create({baseURL:"/api"});return i(e)}const u=o(),l=c();function f(){return s().create({baseURL:"/v1/search",headers:{"X-Naver-Client-Id":"WDBUTDGAh6YGJ6Umihxr","X-Naver-Client-Secret":"Vjn2nII5K3"}})}function d(){const e=s().create({baseURL:"/v4"});return i(e)}function p(){const e=Math.floor(+new Date).toString(),n=s().create({baseURL:"/v3/geolocation/v2",headers:{"x-ncp-apigw-timestamp":e,"x-ncp-iam-access-key":"wnm6dyQfAzJLgs1r8r9I","x-ncp-apigw-signature-v2":"l9RFKQeUe3n09f4cu2m6CWyayyoC0p5jgrPXerDf"}});return n}function h(){const e=s().create({baseURL:"/v2"});return e}const m=f();p(),d(),h()},6370:function(e,n,t){t.d(n,{Yx:function(){return s}});var r=t(3376);function s(e){return r.yC.get(`/local.json?query=${encodeURI(e)}&display=5`)}},6146:function(e,n,t){t.d(n,{X:function(){return s},w:function(){return a}});var r=t(3376);function s(e){return r.Uj.post("report/menu",e)}function a(e){return r.Uj.post("report/info",e)}},9013:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(3396),s=t(7139),a=t(9242);const i={class:"cafe-view"},o={id:"report-component"},c={class:"page-title"},u={class:"input__box"},l=(0,r._)("div",null,[(0,r._)("label",null,"카페명"),(0,r._)("em",null,"*")],-1),f=(0,r._)("button",{type:"button",class:"btn--border--black btn--sm-2"}," 카페 검색하기 ",-1),d={key:1,class:"text__cafe-title"},p={class:"input__box"},h=(0,r._)("div",null,[(0,r._)("label",null,"도로명 주소"),(0,r._)("em",null,"*")],-1),m={class:"info"},_={class:"input__box"},b=(0,r._)("div",null,[(0,r._)("label",null,"메뉴"),(0,r._)("em",null,"*")],-1),v={class:"count"},g={class:"input__box"},y=(0,r._)("div",null,[(0,r._)("label",null,"가격"),(0,r._)("em",null,"*")],-1),w={class:"count"},x=["disabled"];function U(e,n,t,U,C,I){const k=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",o,[(0,r._)("header",c,(0,s.zw)(C.header),1),(0,r._)("form",null,[(0,r._)("div",u,[l,""==this.cafeInfo?((0,r.wg)(),(0,r.j4)(k,{key:0,to:"/cafes/searchcafe"},{default:(0,r.w5)((()=>[f])),_:1})):(0,r.kq)("",!0),""!=this.cafeInfo?((0,r.wg)(),(0,r.iD)("div",d,(0,s.zw)(this.cafeInfo.title),1)):(0,r.kq)("",!0),(0,r._)("div",p,[h,(0,r._)("span",m,(0,s.zw)(this.cafeInfo.roadAddress),1)])]),(0,r._)("div",_,[b,(0,r.wy)((0,r._)("input",{placeholder:"메뉴를 입력해주세요.",type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>this.menus.name=e),maxlength:"40"},null,512),[[a.nr,this.menus.name]]),(0,r._)("span",v,(0,s.zw)(I.priceLength)+"/40",1)]),(0,r._)("div",g,[y,(0,r.wy)((0,r._)("input",{placeholder:"가격을 입력해주세요.",type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>this.menus.price=e),maxlength:"20",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[a.nr,this.menus.price]]),(0,r._)("span",w,(0,s.zw)(I.priceLength)+"/20",1)])]),(0,r._)("button",{type:"button",class:(0,s.C_)(["btn--md",I.isValid?"btnPrimary":"btnDisabled"]),disabled:0==I.isValid,onClick:n[2]||(n[2]=(...e)=>I.reportCafe&&I.reportCafe(...e))}," 완료 ",10,x)])])}var C=t(6370),I=t(6146),k={created(){let e=!0;this.$store.commit("isHeaderActive",e)},props:{cafeInfo:{title:"",roadAddress:""}},data(){return{header:"카페 제보하기",menus:{name:"",price:""}}},computed:{isValid(){return!!(this.cafeInfo&&this.menus.name&&this.menus.price)},menuLength(){return this.menus.name.length},priceLength(){return this.menus.price.length}},methods:{async reportCafe(){try{console.log("카페 제보 폼 제출");const e=await(0,I.X)({cafeName:this.cafeInfo.title,roadAddress:this.cafeInfo.roadAddress,menuList:{name:this.menus.name,price:this.menus.price}});console.lot(e)}catch(e){console.log(e)}finally{this.initForm(),this.$router.push("/cafes")}},initForm(){this.cafeInfo.title=""},async searchCafe(){try{const e=await(0,C.Yx)(this.cafeData);console.log(e.data)}catch(e){console.log(e)}}}},L=t(89);const j=(0,L.Z)(k,[["render",U]]);var A=j}}]);
//# sourceMappingURL=13.de62ecc4.js.map