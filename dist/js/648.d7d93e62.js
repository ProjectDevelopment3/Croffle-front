"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[648],{797:function(e,a,n){n.d(a,{D:function(){return s},j:function(){return o}});var t=n(3376);function s(){return t.eE.get("cafes")}function o(e){const a={id:e};return t.eE.get("cafe",{params:a})}},5648:function(e,a,n){n.r(a),n.d(a,{default:function(){return L}});var t=n(3396),s=n(7139);const o={id:"cafe-page"},c={class:"cafe-info"},i={class:"cafe__name"},l={class:"cafe__address"},r=(0,t.Uk)(" 좋아요 "),d={class:"cafe-info__detail"},_={class:"cafe-info__wrapper"},f=(0,t._)("label",null,"전화번호",-1),u={class:"cafe-info__wrapper"},p=(0,t._)("label",null,"운영시간",-1),v={class:"cafe-info__wrapper"},w=(0,t._)("label",null,"SNS",-1),m=(0,t._)("p",{class:"guide"},[(0,t.Uk)(" 이 가게에서 크로플을 파나요?"),(0,t._)("br"),(0,t.Uk)(" 원정대를 위해 제보해주세요! ")],-1),h={id:"cafe-menu"},g=(0,t._)("span",null,"메뉴",-1),k=(0,t._)("p",{class:"guide"},[(0,t.Uk)(" 아래 버튼을 눌러 크로플 메뉴 추가 제보 또는"),(0,t._)("br"),(0,t.Uk)(" 카페 정보 수정 제보를 해주세요! ")],-1),b={class:"menu__list"},y={class:"menus__name"},I={class:"menus__price"},C={class:"review__wrapper"},z=(0,t.Uk)("리뷰  "),D={class:"card__info"},$={class:"card__user"},M={class:"text__nickname"},A={class:"text__date"},R={class:"rate__stars"},U={class:"text__content"};function x(e,a,n,x,Z,H){const j=(0,t.up)("modal-content"),F=(0,t.up)("modal-component");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",o,[(0,t._)("div",c,[(0,t._)("span",i,(0,s.zw)(Z.cafeInfo.name),1),(0,t._)("span",l,(0,s.zw)(Z.cafeInfo.roadaddr),1),(0,t._)("button",{type:"button",class:"cafe__btn-like",onClick:a[0]||(a[0]=(...e)=>H.scrapCafe&&H.scrapCafe(...e))},[r,(0,t._)("i",{class:(0,s.C_)(["fa-heart",Z.liked?"fas":"far"])},null,2)])]),(0,t._)("div",d,[(0,t._)("div",_,[f,(0,t._)("span",null,(0,s.zw)(Z.cafeInfo.telephone),1)]),(0,t._)("div",u,[p,(0,t._)("span",null,(0,s.zw)(Z.cafeInfo.hours),1)]),(0,t._)("div",v,[w,(0,t._)("span",null,(0,s.zw)(Z.cafeInfo.site),1)])]),m]),(0,t._)("div",h,[g,k,(0,t._)("div",b,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Z.cafeInfo.menus,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"menu-info__wrapper",key:e},[(0,t._)("span",y,(0,s.zw)(Z.cafeInfo.menus.name),1),(0,t._)("span",I,(0,s.zw)(Z.cafeInfo.menus.price),1)])))),128))])]),(0,t._)("button",{type:"button",onClick:a[1]||(a[1]=e=>Z.isModalActive=!0),class:"btn--primary"}," 제보하기 + "),(0,t._)("div",C,[(0,t._)("span",null,[z,(0,t._)("strong",null,(0,s.zw)(Z.reviews.length),1)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Z.reviews,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{key:a,class:"review__card"},[(0,t._)("div",D,[(0,t._)("div",$,[(0,t._)("div",M,(0,s.zw)(e.nickname),1),(0,t._)("div",A,(0,s.zw)(e.date),1)]),(0,t._)("div",R,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Z.reviews[a].rate,(e=>((0,t.wg)(),(0,t.iD)("i",{key:e,class:"fas fa-star fa-1x"})))),128))]),(0,t._)("div",U,(0,s.zw)(e.content),1)])])))),128))]),(0,t._)("button",{type:"button",onClick:a[2]||(a[2]=(...a)=>e.toReviewForm&&e.toReviewForm(...a)),class:"btn--border"}," 리뷰 작성하기 + "),Z.isModalActive?((0,t.wg)(),(0,t.j4)(F,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{onCloseModal:a[3]||(a[3]=e=>Z.isModalActive=!1)})])),_:1})):(0,t.kq)("",!0)])}var Z=n(7653);const H={class:"content"},j={class:"btn__close"},F=["src"],K=(0,t._)("h1",null,"무엇을 제보하시나요?",-1),S={class:"btn__wrapper"};function Y(e,a,n,s,o,c){return(0,t.wg)(),(0,t.iD)("div",H,[(0,t._)("div",j,[(0,t._)("button",{type:"button",class:"btn--transparent",onClick:a[0]||(a[0]=a=>e.$emit("close-modal"))},[(0,t._)("img",{src:o.ic__close},null,8,F)])]),K,(0,t._)("div",S,[(0,t._)("button",{type:"button",class:"btn--secondary",onClick:a[1]||(a[1]=(...e)=>c.addReport&&c.addReport(...e))}," 크로플 메뉴 추가 제보 "),(0,t._)("button",{type:"button",class:"btn--negative",onClick:a[2]||(a[2]=(...e)=>c.reportInfo&&c.reportInfo(...e))}," 카페 정보 수정 제보 ")])])}var E=n(8391),W={name:"ModalContent",props:{msg:String},data(){return{ic__close:E}},methods:{addReport(){this.$emit("close-modal"),this.$router.push("/cafe/addreport")},reportInfo(){this.$emit("close-modal"),this.$router.push("/cafe/reportinfo")}}},q=n(89);const N=(0,q.Z)(W,[["render",Y]]);var O=N,X=n(3376),B=n(797),G={created(){this.fetchCafeInfo()},mounted(){console.log("route",this.$route),console.log("mounted id:",this.$route.params.id)},components:{ModalComponent:Z.Z,ModalContent:O},data(){return{cafeId:"cafeId",isModalActive:!1,isHeaderActive:!0,reviews:[{nickname:"씽씽",date:"2022.04.01",content:"냉동 생지 사다가 만드는게 아니라 사장님이 직접 만든 반죽으로 하심",rate:3},{nickname:"씽씽",date:"2022.04.01",content:"냉동 생지 사다가 만드는게 아니라 사장님이 직접 만든 반죽으로 하심",rate:2}],liked:!0,cafeInfo:[]}},methods:{async fetchReview(){console.log("리뷰 조회");try{const e=await(0,X.oO)();this.reviews.nickname=e.reviews.author,this.reviews.date=e.reviews.createdate,this.reviews.content=e.reviews.content,this.reviews.rate=e.reviews.rate}catch(e){console.log(e)}},async scrapCafe(){if(console.log("스크랩하는 카페 id 출력"),this.liked=!this.liked,0==this.liked)try{console.log("스크랩 취소"),await(0,X.AF)({cafe:this.id})}catch(e){console.log(e.message)}else try{console.log("스크랩 하기"),await(0,X.Xp)({cafe:this.id})}catch(e){console.log(e.message)}},async fetchCafeInfo(){try{console.log("카페 상세정보 조회");const{data:e}=await(0,B.j)({cafeId:this.$route.params.id});this.cafeInfo=e.data}catch(e){console.log(e.message)}}}};const J=(0,q.Z)(G,[["render",x]]);var L=J},7653:function(e,a,n){n.d(a,{Z:function(){return _}});var t=n(3396);const s={class:"modal"},o=(0,t._)("div",{class:"overlay"},null,-1),c={class:"modal-card"};function i(e,a,n,i,l,r){return(0,t.wg)(),(0,t.iD)("div",s,[o,(0,t._)("div",c,[(0,t.WI)(e.$slots,"default")])])}var l={},r=n(89);const d=(0,r.Z)(l,[["render",i]]);var _=d},8391:function(e,a,n){e.exports=n.p+"img/close.a59852f9.svg"}}]);
//# sourceMappingURL=648.d7d93e62.js.map