"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[827],{6427:function(t,n,e){e.d(n,{SD:function(){return l},T6:function(){return a},dq:function(){return c},fR:function(){return i},qb:function(){return r}});var o=e(3376);function a(){return o.eE.get("boards")}function l(t){return o.eE.get(`board/${t}`)}function r(t){return o.Uj.post("board",t)}function i(t){return o.Uj["delete"](`board/${t}`)}function c(t,n){return o.Uj.put(`board/${t}`,n)}},8827:function(t,n,e){e.r(n),e.d(n,{default:function(){return x}});var o=e(3396),a=e(9242),l=e(7139);const r={class:"community"},i=(0,o._)("header",{class:"page-title"},"커뮤니티",-1),c={class:"input__box"},s=(0,o._)("label",null,"게시글 카테고리",-1),u=(0,o._)("option",{value:"RECIPE"},"레시피 공유 글",-1),d=(0,o._)("option",{value:"FREE"},"자유 글",-1),h=[u,d],f={class:"input__box"},b=(0,o._)("label",null,"게시글 제목",-1),_={class:"count"},p={class:"input__box"},g=(0,o._)("label",null,"게시글 내용",-1),m={class:"count"},y=["disabled"];function v(t,n,e,u,d,v){return(0,o.wg)(),(0,o.iD)("div",r,[i,(0,o._)("form",null,[(0,o._)("div",c,[s,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n[0]||(n[0]=t=>d.category=t)},h,512),[[a.bM,d.category]])]),(0,o._)("div",f,[b,(0,o.wy)((0,o._)("input",{placeholder:"게시글 제목을 입력해주세요.","onUpdate:modelValue":n[1]||(n[1]=t=>d.title=t),maxlength:"30"},null,512),[[a.nr,d.title]]),(0,o._)("span",_,(0,l.zw)(v.titleLength)+"/30",1)]),(0,o._)("div",p,[g,(0,o.wy)((0,o._)("textarea",{placeholder:"게시글 내용을 입력해주세요.","onUpdate:modelValue":n[2]||(n[2]=t=>d.content=t),maxlength:"1500"},null,512),[[a.nr,d.content]]),(0,o._)("span",m,(0,l.zw)(v.contentLength)+"/1500",1)])]),(0,o._)("button",{onClick:n[3]||(n[3]=(...t)=>v.editPost&&v.editPost(...t)),type:"button",class:(0,l.C_)(["btn--md",v.isValid?"btnPrimary":"btnDisabled"]),disabled:0==v.isValid}," 게시글 수정 ",10,y)])}var w=e(6427),C={data(){return{title:"",content:"",category:"RECIPE"}},created(){this.fetchPost()},computed:{isValid(){return!(!this.title||!this.content)},titleLength(){return this.title.length},contentLength(){return this.content.length}},methods:{async editPost(){const t=this.$route.params.id;try{console.log("커뮤니티 글 수정"),await(0,w.dq)(t,{title:this.title,content:this.content,boardCategory:this.boardCategory})}catch(n){console.log(n.message)}},async fetchPost(){const{data:t}=await(0,w.SD)(this.$route.params.id);this.title=t.title,this.content=t.content}}},E=e(89);const P=(0,E.Z)(C,[["render",v]]);var x=P}}]);
//# sourceMappingURL=827.b7d76eee.js.map