"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[791],{797:function(e,n,t){t.d(n,{UB:function(){return s},j2:function(){return a}});var r=t(3376);function a(e){return r.eE.get(`cafe?id=${e}`)}function s(e){return r.eE.get(`cafe/search?name=${e}`)}},3376:function(e,n,t){t.d(n,{eE:function(){return u},Uj:function(){return l},yC:function(){return m}});var r=t(6265),a=t.n(r),s=t(5008);function c(e){return e.interceptors.request.use((function(e){return console.log(e),e.headers.Authorization=`Bearer ${(0,s.cd)()}`,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),e}function o(){return a().create({baseURL:"192.168.0.17:8080/"})}function i(){const e=a().create({baseURL:"/api"});return c(e)}const u=o(),l=i();function f(){return a().create({baseURL:"/v1/search",headers:{"X-Naver-Client-Id":"WDBUTDGAh6YGJ6Umihxr","X-Naver-Client-Secret":"Vjn2nII5K3"}})}function p(){const e=a().create({baseURL:"/v4"});return c(e)}function d(){const e=Math.floor(+new Date).toString(),n=a().create({baseURL:"/v3/geolocation/v2",headers:{"x-ncp-apigw-timestamp":e,"x-ncp-iam-access-key":"wnm6dyQfAzJLgs1r8r9I","x-ncp-apigw-signature-v2":"l9RFKQeUe3n09f4cu2m6CWyayyoC0p5jgrPXerDf"}});return n}function h(){const e=a().create({baseURL:"/v2"});return e}const m=f();d(),p(),h()},6146:function(e,n,t){t.d(n,{X:function(){return a},w:function(){return s}});var r=t(3376);function a(e){return r.Uj.post("report/menu",e)}function s(e){return r.Uj.post("report/info",e)}},7791:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(3396),a=t(7139),s=t(9242);const c={id:"report-component"},o={class:"page-title"},i={class:"input__box"},u=(0,r._)("label",null,"카페명",-1),l={class:"info"},f={class:"input__box"},p=(0,r._)("label",null,"도로명 주소",-1),d={class:"info"},h={class:"input__box"},m=(0,r._)("label",null,"메뉴명",-1),_={class:"count"},g={class:"input__box"},b=(0,r._)("label",null,"가격",-1),v={class:"count"},w=(0,r._)("div",{class:"guide"},"크로플 메뉴만 등록할 수 있어요!",-1),y=["disabled"];function U(e,n,t,U,D,x){return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("header",o,(0,a.zw)(D.header),1),(0,r._)("form",null,[(0,r._)("div",i,[u,(0,r._)("span",l,(0,a.zw)(D.cafeData[0].name),1)]),(0,r._)("div",f,[p,(0,r._)("span",d,(0,a.zw)(D.cafeData[0].roadaddr),1)]),(0,r._)("div",h,[m,(0,r._)("input",{placeholder:"메뉴명을 입력해주세요.",type:"text",onInput:n[0]||(n[0]=e=>this.menus.name=e.target.value),maxlength:"40"},null,32),(0,r._)("span",_,(0,a.zw)(x.menuLength)+"/40",1)]),(0,r._)("div",g,[b,(0,r.wy)((0,r._)("input",{placeholder:"가격을 입력해주세요.",type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>this.menus.price=e),maxlength:"20",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[s.nr,this.menus.price]]),(0,r._)("span",v,(0,a.zw)(x.priceLength)+"/20",1)])]),w,(0,r._)("button",{type:"button",class:(0,a.C_)(["btn--md",x.isValid?"btnPrimary":"btnDisabled"]),disabled:0==x.isValid,onClick:n[2]||(n[2]=(...e)=>x.reportMenu&&x.reportMenu(...e))}," 완료 ",10,y)])}var D=t(6146),x=t(797),L={data(){return{header:"메뉴 추가 제보하기",menus:{name:"",price:""},cafeData:[{name:"밀크북",roadaddr:"파주시 회현로"}]}},computed:{isValid(){return!(!this.menus.name||!this.menus.price)},menuLength(){return this.menus.name.length},priceLength(){return this.menus.price.length}},methods:{async reportMenu(){try{console.log("메뉴 제보 폼 제출");const e=await(0,D.X)({cafe_name:this.cafeData[0].name,roadAddress:this.cafeData[0].roadaddr,menus:{name:this.menus.name,price:this.menus.price}});console.log(e)}catch(e){console.log(e.response.status),console.log(e.response.headers)}finally{this.initForm()}},initForm(){this.rate="",this.content=""},async fetchCafeInfo(){try{const{cafeData:e}=await(0,x.j2)(this.$route.params.id);this.cafeData=e}catch(e){console.log(e)}}}},C=t(89);const j=(0,C.Z)(L,[["render",U]]);var z=j}}]);
//# sourceMappingURL=791.e36e801a.js.map