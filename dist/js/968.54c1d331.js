"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[968],{3376:function(e,n,t){t.d(n,{eE:function(){return u},Uj:function(){return l},yC:function(){return p}});var r=t(6265),s=t.n(r),i=t(5008);function a(e){return e.interceptors.request.use((function(e){return console.log(e),e.headers.Authorization=`Bearer ${(0,i.cd)()}`,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),e}function c(){return s().create({baseURL:"192.168.0.17:8080/"})}function o(){const e=s().create({baseURL:"/api"});return a(e)}const u=c(),l=o();function m(){return s().create({baseURL:"/v1/search",headers:{"X-Naver-Client-Id":"WDBUTDGAh6YGJ6Umihxr","X-Naver-Client-Secret":"Vjn2nII5K3"}})}function f(){const e=s().create({baseURL:"/v4"});return a(e)}function d(){const e=Math.floor(+new Date).toString(),n=s().create({baseURL:"/v3/geolocation/v2",headers:{"x-ncp-apigw-timestamp":e,"x-ncp-iam-access-key":"wnm6dyQfAzJLgs1r8r9I","x-ncp-apigw-signature-v2":"l9RFKQeUe3n09f4cu2m6CWyayyoC0p5jgrPXerDf"}});return n}function g(){const e=s().create({baseURL:"/v2"});return e}const p=m();d(),f(),g()},1955:function(e,n,t){t.d(n,{$F:function(){return c},Bg:function(){return s},GR:function(){return u},VN:function(){return o},ci:function(){return a},l_:function(){return i}});var r=t(3376);function s(){return r.Uj.get("user/me")}function i(e){return r.Uj.put("nickname",e)}function a(e){return r.Uj.post("nickname/verify",e)}function c(){return r.Uj.get("stamps")}function o(){return r.Uj.get("coupons")}function u(e){return r.Uj["delete"](`coupon/use?couponId=${e}`)}},5968:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(3396),s=t(9242),i=t(7139);const a={class:"mypage-nickname"},c=(0,r._)("header",null,[(0,r._)("h1",null,"닉네임 수정"),(0,r._)("span",null,"1~10자의 한글, 영어, 숫자를 혼용하여 입력할 수 있습니다.")],-1),o={class:"input__box"},u=(0,r._)("label",{for:"nickname"},"닉네임",-1),l=["disabled"],m={class:"count"},f=["disabled"];function d(e,n,t,d,g,p){return(0,r.wg)(),(0,r.iD)("div",a,[c,(0,r._)("form",null,[(0,r._)("div",o,[u,(0,r.wy)((0,r._)("input",{id:"nickname","onUpdate:modelValue":n[0]||(n[0]=e=>g.nickname=e),placeholder:"닉네임을 입력해주세요.",maxlength:"10",onInput:n[1]||(n[1]=e=>this.nickname=e.target.value)},null,544),[[s.nr,g.nickname]]),(0,r._)("button",{type:"button",onClick:n[2]||(n[2]=(...e)=>p.verifyNickname&&p.verifyNickname(...e)),class:(0,i.C_)(["btn__duplicate",this.nickname?"btnPrimary":"btnDisabled"]),disabled:!this.nickname}," 중복 확인 ",10,l),(0,r._)("span",m,(0,i.zw)(p.nicknameLength)+"/10",1),(0,r._)("span",{class:(0,i.C_)(["error-message",["verifyMessage",g.isValid?"passMessage":"verifyMessage"]])},(0,i.zw)(g.errorMessage),3)])]),(0,r._)("button",{type:"button",onClick:n[3]||(n[3]=(...e)=>p.submitForm&&p.submitForm(...e)),class:(0,i.C_)(["btn--md",g.isValid?"btnPrimary":"btnDisabled"]),disabled:0==g.isValid}," 닉네임 수정하기 ",10,f)])}var g=t(1955),p={data(){return{errorMessage:"",nickname:"",isValid:!1}},computed:{nicknameLength(){return this.nickname.length}},methods:{async submitForm(){try{console.log("닉네임 수정 폼 제출");const e=await(0,g.l_)({nickname:this.nickname});console.log(e);let n="수정이";this.$emit("setMessage",n),this.$router.push("/mypage/nicknamecomplete")}catch(e){console.log(e.message)}},async verifyNickname(){try{console.log("닉네임 검증 완료");const{data:e}=await(0,g.ci)({nickname:this.nickname});this.errorMessage=e.messages,this.isValidated=!0}catch(e){console.log(e.message),this.errorMessage=e.message,this.isValidated=!1}}}},h=t(89);const b=(0,h.Z)(p,[["render",d]]);var k=b}}]);
//# sourceMappingURL=968.54c1d331.js.map