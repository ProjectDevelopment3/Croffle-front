"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[622],{8762:function(e,n,t){t.d(n,{CF:function(){return u},Gr:function(){return s},P$:function(){return l},R$:function(){return f},X7:function(){return c},aj:function(){return o},qp:function(){return r},th:function(){return i}});var a=t(3376);function f(){return a.Uj.put("/owner/verify")}function c(e,n){return a.Uj.put(`owner/menu/${e}`,n)}function o(){return a.Uj.get("owner/menus")}function r(){return a.Uj.get("owner/cafe")}function l(e,n,t,f,c,o){return a.Uj.put(`owner/cafe/${e}?cafeName=${n}&telephone=${t}&hours=${f}&site=${c}&benefit=${o}`)}function u(){return a.Uj.post("owner/menu")}function i(e,n){return a.Uj.post("owner/stamp",e,n)}function s(e){return a.Uj.post("owner/find-user",e)}},7622:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(3396),f=t(9242),c=t(7139);const o={class:"owner-form"},r=(0,a._)("header",{class:"page-title"},"매장 관리하기",-1),l={class:"input__box"},u=(0,a._)("label",null,"카페이름",-1),i={class:"count"},s={class:"input__box"},h=(0,a._)("label",null,"전화번호",-1),p={class:"count"},d={class:"input__box"},I=(0,a._)("label",null,"운영시간",-1),_={class:"count"},g={class:"input__box"},m=(0,a._)("label",null,"SNS",-1),w={class:"count"},b={class:"input__box"},v=(0,a._)("label",null,"제공혜택",-1),$={class:"count"},y=["disabled"];function S(e,n,t,S,U,x){return(0,a.wg)(),(0,a.iD)("div",o,[r,(0,a._)("form",null,[(0,a._)("div",l,[u,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>U.cafeInfo.cafeName=e),placeholder:"카페이름을 입력해주세요.",maxlength:"40",onInput:n[1]||(n[1]=e=>this.cafeInfo.cafeName=e.target.value)},null,544),[[f.nr,U.cafeInfo.cafeName]]),(0,a._)("span",i,(0,c.zw)(x.cafeNameLength)+"/40",1)]),(0,a._)("div",s,[h,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>U.cafeInfo.cafeTelephone=e),placeholder:"전화번호를 입력해주세요.",maxlength:"30",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[f.nr,U.cafeInfo.cafeTelephone]]),(0,a._)("span",p,(0,c.zw)(x.cafeTelephoneLength)+"/30",1)]),(0,a._)("div",d,[I,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":n[3]||(n[3]=e=>U.cafeInfo.cafeHours=e),placeholder:"운영시간을 입력해주세요.",rows:"2",maxlength:"255",onInput:n[4]||(n[4]=e=>this.cafeInfo.cafeHours=e.target.value)},null,544),[[f.nr,U.cafeInfo.cafeHours]]),(0,a._)("span",_,(0,c.zw)(x.cafeHoursLength)+"/255",1)]),(0,a._)("div",g,[m,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[5]||(n[5]=e=>U.cafeInfo.cafeSite=e),placeholder:"SNS 주소를 입력해주세요.",maxlength:"255",onInput:n[6]||(n[6]=e=>this.cafeInfo.cafeSite=e.target.value)},null,544),[[f.nr,U.cafeInfo.cafeSite]]),(0,a._)("span",w,(0,c.zw)(x.cafeSiteLength)+"/255",1)]),(0,a._)("div",b,[v,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":n[7]||(n[7]=e=>U.cafeInfo.cafeBenefit=e),placeholder:"제공혜택을 입력해주세요.",maxlength:"255",onInput:n[8]||(n[8]=e=>this.cafeInfo.cafeBenefit=e.target.value)},null,544),[[f.nr,U.cafeInfo.cafeBenefit]]),(0,a._)("span",$,(0,c.zw)(x.cafeBenefitLength)+"/255",1)])]),(0,a._)("button",{type:"button",onClick:n[9]||(n[9]=(...e)=>x.editOwnerCafe&&x.editOwnerCafe(...e)),class:(0,c.C_)(["btn--md",x.isValid?"btnPrimary":"btnDisabled"]),disabled:0==x.isValid}," 완료 ",10,y)])}var U=t(8762),x={data(){return{cafeInfo:{cafeId:"",cafeName:"",cafeTelephone:"",cafeHours:"",cafeSite:"",cafeBenefit:""}}},computed:{cafeNameLength(){return this.cafeInfo.cafeName.length},cafeTelephoneLength(){return this.cafeInfo.cafeTelephone.length},cafeHoursLength(){return this.cafeInfo.cafeHours.length},cafeSiteLength(){return this.cafeInfo.cafeSite.length},cafeBenefitLength(){return this.cafeInfo.cafeBenefit.length},isValid(){return!!(this.cafeInfo.cafeName&&this.cafeInfo.cafeTelephone&&this.cafeInfo.cafe_Hours&&this.cafeInfo.cafeSite&&this.cafeInfo.cafeBenefit)}},methods:{async fetchOwnerCafe(){try{console.log("사장님 - 매장 정보 조회");const{data:e}=await(0,U.qp)();this.cafeInfo=e.data}catch(e){console.log(e.message)}},async editOwnerCafe(){try{await(0,U.P$)(this.cafeInfo.cafeId,this.cafeInfo.cafeName,this.cafeInfo.cafeTelephone,this.cafeInfo.cafeHours,this.cafeInfo.cafeSite,this.cafeInfo.cafeBenefit)}catch(e){console.log(e.message)}finally{let e="수정이";this.$emit("setMessage",e);let n=this.cafeInfo.cafeId;this.$emit("setCafeId",n),this.$router.push("/owner/complete")}}}},N=t(89);const C=(0,N.Z)(x,[["render",S]]);var L=C}}]);
//# sourceMappingURL=622.a692db9b.js.map