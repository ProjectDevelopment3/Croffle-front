"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[291],{291:function(e,n,a){a.r(n),a.d(n,{default:function(){return _}});var s=a(3396),t=a(9242),i=a(7139);const r={class:"mypage-nickname"},o=(0,s._)("header",null,[(0,s._)("h1",null,"닉네임 수정"),(0,s._)("span",null,"1~10자의 한글, 영어, 숫자를 혼용하여 입력할 수 있습니다.")],-1),c={class:"input__box"},l=(0,s._)("label",{for:"nickname"},"닉네임",-1),m=["disabled"],d={class:"count"},u=["disabled"];function h(e,n,a,h,k,g){return(0,s.wg)(),(0,s.iD)("div",r,[o,(0,s._)("form",null,[(0,s._)("div",c,[l,(0,s.wy)((0,s._)("input",{id:"nickname","onUpdate:modelValue":n[0]||(n[0]=e=>k.nickname=e),placeholder:"닉네임을 입력해주세요.",maxlength:"10",onInput:n[1]||(n[1]=e=>this.nickname=e.target.value)},null,544),[[t.nr,k.nickname]]),(0,s._)("button",{type:"button",onClick:n[2]||(n[2]=(...e)=>g.verifyNickname&&g.verifyNickname(...e)),class:(0,i.C_)(["btn__duplicate",this.nickname?"btnPrimary":"btnDisabled"]),disabled:!this.nickname}," 중복 확인 ",10,m),(0,s._)("span",d,(0,i.zw)(g.nicknameLength)+"/10",1),(0,s._)("span",{class:(0,i.C_)(["error-message",["verifyMessage",k.isValid?"passMessage":"verifyMessage"]])},(0,i.zw)(k.errorMessage),3)])]),(0,s._)("button",{type:"button",onClick:n[3]||(n[3]=(...e)=>g.submitForm&&g.submitForm(...e)),class:(0,i.C_)(["btn--md",k.isValid?"btnPrimary":"btnDisabled"]),disabled:0==k.isValid}," 닉네임 수정하기 ",10,u)])}var k=a(6265),g=a.n(k),p={data(){return{errorMessage:"",nickname:"",isValid:!1}},computed:{nicknameLength(){return this.nickname.length}},methods:{async submitForm(){try{console.log("닉네임 수정 폼 제출");const{postData:e}=await g().put(" http://34.64.32.174:8080/board/nickname",{nickname:this.nickname},{headers:{Authorization:`Bearer ${this.$store.state.token}`}});console.log(e);let n="수정이";this.$emit("setMessage",n),this.$router.push("/mypage/nicknamecomplete")}catch(e){console.log(e.message)}},async verifyNickname(){try{const{data:e}=await g().post(" http://34.64.32.174:8080/nickname/verify",{nickname:this.nickname},{headers:{Authorization:`Bearer ${this.$store.state.token}`}});this.errorMessage=e.messages,this.isValidated=!0}catch(e){console.log(e.message),this.errorMessage=e.message,this.isValidated=!1}}}},b=a(89);const f=(0,b.Z)(p,[["render",h]]);var _=f}}]);
//# sourceMappingURL=291.b6e41c75.js.map