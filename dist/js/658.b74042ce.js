"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[658],{4658:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(3396),s=n(7139),r=n(9242);const l={id:"report-component"},i={class:"page-title"},o={class:"input__box"},u=(0,a._)("label",null,"카페명",-1),c={class:"info"},d={class:"input__box"},p=(0,a._)("label",null,"도로명 주소",-1),h={class:"info"},m={class:"input__box"},_=(0,a._)("label",null,"메뉴명",-1),f={class:"count"},g={class:"input__box"},b=(0,a._)("label",null,"가격",-1),v={class:"count"},w=(0,a._)("div",{class:"guide"},"크로플 메뉴만 등록할 수 있어요!",-1),y=["disabled"];function x(e,t,n,x,D,k){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("header",i,(0,s.zw)(D.header),1),(0,a._)("form",null,[(0,a._)("div",o,[u,(0,a._)("span",c,(0,s.zw)(D.cafeData[0].name),1)]),(0,a._)("div",d,[p,(0,a._)("span",h,(0,s.zw)(D.cafeData[0].roadaddr),1)]),(0,a._)("div",m,[_,(0,a._)("input",{placeholder:"메뉴명을 입력해주세요.",type:"text",onInput:t[0]||(t[0]=e=>this.menus.name=e.target.value),maxlength:"40"},null,32),(0,a._)("span",f,(0,s.zw)(k.menuLength)+"/40",1)]),(0,a._)("div",g,[b,(0,a.wy)((0,a._)("input",{placeholder:"가격을 입력해주세요.",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>this.menus.price=e),maxlength:"20",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[r.nr,this.menus.price]]),(0,a._)("span",v,(0,s.zw)(k.priceLength)+"/20",1)])]),w,(0,a._)("button",{type:"button",class:(0,s.C_)(["btn--md",k.isValid?"btnPrimary":"btnDisabled"]),disabled:0==k.isValid,onClick:t[2]||(t[2]=(...e)=>k.reportMenu&&k.reportMenu(...e))}," 완료 ",10,y)])}var D=n(6265),k=n.n(D),z={data(){return{header:"메뉴 추가 제보하기",menus:{name:"",price:""},cafeData:[{name:"밀크북",roadaddr:"파주시 회현로"}]}},computed:{isValid(){return!(!this.menus.name||!this.menus.price)},menuLength(){return this.menus.name.length},priceLength(){return this.menus.price.length}},methods:{async reportMenu(){try{console.log("메뉴 제보 폼 제출"),await k().post("http://34.64.139.239/report/menu",{cafe_name:this.cafeData[0].name,roadAddress:this.cafeData[0].roadaddr,menus:{name:this.menus.name,price:this.menus.price}},{headers:{Authorization:`Bearer ${this.$store.state.token}`}})}catch(e){console.log(e.response.status),console.log(e.response.headers)}finally{this.initForm()}},initForm(){this.rate="",this.content=""},async fetchCafeInfo(){try{const{data:e}=await k().get(`http://34.64.139.239/report/menu/${this.$route.params.id}`);console.log("카페 상세 정보 조회",e)}catch(e){console.log(e)}}}},C=n(89);const $=(0,C.Z)(z,[["render",x]]);var L=$}}]);
//# sourceMappingURL=658.b74042ce.js.map