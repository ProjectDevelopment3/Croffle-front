"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[28],{1955:function(n,e,t){t.d(e,{$F:function(){return c},Bg:function(){return i},GR:function(){return u},VN:function(){return o},ci:function(){return r},l_:function(){return a}});var s=t(3376);function i(){return s.Uj.get("user/me")}function a(n){return s.Uj.put("nickname",n)}function r(n){return s.Uj.post("nickname/verify",n)}function c(){return s.Uj.get("stamps")}function o(){return s.Uj.get("coupons")}function u(n){return s.Uj["delete"](`coupon/use?couponId=${n}`)}},4028:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var s=t(3396),i=t(9242),a=t(7139);const r={class:"mypage-nickname"},c=(0,s._)("header",null,[(0,s._)("h1",null,"닉네임 수정"),(0,s._)("span",null,"1~10자의 한글, 영어, 숫자를 혼용하여 입력할 수 있습니다.")],-1),o={class:"input__box"},u=(0,s._)("label",{for:"nickname"},"닉네임",-1),l=["disabled"],m={class:"count"},d=["disabled"];function f(n,e,t,f,g,k){return(0,s.wg)(),(0,s.iD)("div",r,[c,(0,s._)("form",null,[(0,s._)("div",o,[u,(0,s.wy)((0,s._)("input",{id:"nickname","onUpdate:modelValue":e[0]||(e[0]=n=>g.nickname=n),placeholder:"닉네임을 입력해주세요.",maxlength:"10",onInput:e[1]||(e[1]=n=>this.nickname=n.target.value)},null,544),[[i.nr,g.nickname]]),(0,s._)("button",{type:"button",onClick:e[2]||(e[2]=(...n)=>k.verifyNickname&&k.verifyNickname(...n)),class:(0,a.C_)(["btn__duplicate",this.nickname?"btnPrimary":"btnDisabled"]),disabled:!this.nickname}," 중복 확인 ",10,l),(0,s._)("span",m,(0,a.zw)(k.nicknameLength)+"/10",1),(0,s._)("span",{class:(0,a.C_)(["error-message",["verifyMessage",g.isValid?"passMessage":"verifyMessage"]])},(0,a.zw)(g.errorMessage),3)])]),(0,s._)("button",{type:"button",onClick:e[3]||(e[3]=(...n)=>k.submitForm&&k.submitForm(...n)),class:(0,a.C_)(["btn--md",g.isValid?"btnPrimary":"btnDisabled"]),disabled:0==g.isValid}," 닉네임 수정하기 ",10,d)])}var g=t(1955),k={data(){return{errorMessage:"유효성검사 메세지",nickname:"",isValid:!1}},computed:{nicknameLength(){return this.nickname.length}},methods:{async submitForm(){try{console.log("닉네임 수정 폼 제출");const n=await(0,g.l_)({nickname:this.nickname});console.log(n);let e="수정이";this.$emit("setMessage",e),this.$router.push("/mypage/nicknamecomplete")}catch(n){console.log(n.message)}},async verifyNickname(){try{console.log("닉네임 검증 완료");const{data:n}=await(0,g.ci)({nickname:this.nickname});this.errorMessage=n.messages,this.isValidated=!0}catch(n){console.log(n.message),this.errorMessage=n.message,this.isValidated=!1}}}},h=t(89);const p=(0,h.Z)(k,[["render",f]]);var b=p}}]);
//# sourceMappingURL=28.efe2d167.js.map