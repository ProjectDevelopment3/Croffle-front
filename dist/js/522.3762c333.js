"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[522],{7522:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var a=t(3396),u=t(7139),s=t(9242);const l={class:"owner-form"},i=(0,a._)("header",{class:"page-title"},"메뉴 수정하기",-1),r={class:"input__box"},o=(0,a._)("label",null,"현재 메뉴",-1),m=(0,a._)("option",{selected:""},"메뉴명",-1),c=["value"],d={class:"input__box"},h=(0,a._)("label",null,"수정될 메뉴명",-1),p={class:"count"},_={class:"input__box"},g=(0,a._)("label",null,[(0,a.Uk)("수정할 가격"),(0,a._)("span",{class:"won"},"원")],-1),w={class:"count"},b=["disabled"];function f(e,n,t,f,v,y){return(0,a.wg)(),(0,a.iD)("div",l,[i,(0,a._)("form",null,[(0,a._)("div",r,[o,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>v.menuId=e)},[m,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.menuData,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.menuId,value:e.menuId},(0,u.zw)(e.menuName),9,c)))),128))],512),[[s.bM,v.menuId]])]),(0,a._)("div",d,[h,(0,a.wy)((0,a._)("input",{onInput:n[1]||(n[1]=e=>this.menuName=e.target.value),"onUpdate:modelValue":n[2]||(n[2]=e=>v.menuName=e),maxlength:"40",placeholder:"수정될 메뉴명을 입력해주세요."},null,544),[[s.nr,v.menuName]]),(0,a._)("span",p,(0,u.zw)(y.menuLength)+"/40",1)]),(0,a._)("div",_,[g,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>v.menuPrice=e),placeholder:"수정하실 가격을 입력해주세요.",maxlength:"20",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[s.nr,v.menuPrice]]),(0,a._)("span",w,(0,u.zw)(y.priceLength)+"/20",1)])]),(0,a._)("button",{type:"button",onClick:n[4]||(n[4]=(...e)=>y.editOwnerMenu&&y.editOwnerMenu(...e)),class:(0,u.C_)(["btn--md",y.isValid?"btnPrimary":"btnDisabled"]),disabled:0==y.isValid}," 완료 ",10,b)])}var v=t(6265),y=t.n(v),k={created(){this.fetchOwnerMenu()},data(){return{menuName:"",menuPrice:"",menuId:0,menuData:[]}},computed:{menuLength(){return this.menuName.length},priceLength(){return this.menuPrice.length},isValid(){return!!(this.menuId&&this.menuName&&this.menuPrice)}},methods:{async fetchOwnerMenu(){try{console.log("사장님 메뉴 조회");const{data:e}=await y().get(" http://34.64.32.174:8080/owner/menus",{headers:{Authorization:`Bearer ${this.$store.state.token}`}});this.menuList=e.data[0],console.log(this.menuList)}catch(e){console.log(e.message)}},async editOwnerMenu(){try{console.log("사장님 - 메뉴 수정 폼 제출"),await y().put(` http://34.64.32.174:8080/owner/menu/${this.menuId}`,{menuName:this.menuName,menuPrice:this.menuPrice},{headers:{Authorization:`Bearer ${this.$store.state.token}`}})}catch(e){console.log(e.message)}finally{let e="수정이";this.$emit("setMessage",e),this.$router.push("/owner/complete")}}}},N=t(89);const I=(0,N.Z)(k,[["render",f]]);var P=I}}]);
//# sourceMappingURL=522.3762c333.js.map