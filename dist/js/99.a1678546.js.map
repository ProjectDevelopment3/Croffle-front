{"version":3,"file":"js/99.a1678546.js","mappings":"gPAEO,SAASA,EAAgBC,GA8B9B,OA5BAA,EAASC,aAAaC,QAAQC,KAC5B,SAAUC,GAKR,OAFAC,QAAQC,IAAIF,GACZA,EAAOG,QAAQC,cAAiB,WAASC,EAAAA,EAAAA,QAClCL,KAET,SAAUM,GAER,OAAOC,QAAQC,OAAOF,MAK1BV,EAASC,aAAaY,SAASV,KAC7B,SAAUU,GAGR,OAAOA,KAET,SAAUH,GAIR,OAAOC,QAAQC,OAAOF,MAGnBV,EC3BT,SAASc,IACP,OAAOC,IAAAA,OAAa,CAGlBC,QAAS,uBAOb,SAASC,IACP,MAAMjB,EAAWe,IAAAA,OAAa,CAC5BC,QAAU,SAEZ,OAAOjB,EAAgBC,GAIlB,MAAMA,EAAWc,IAGXI,EAAmBD,IAIhC,SAASE,IACP,OAAOJ,IAAAA,OAAa,CAClBC,QAAU,aACVT,QAAS,CACP,oBAAqB,uBACrB,wBAAyB,gBAO/B,SAASa,IACP,MAAMpB,EAAWe,IAAAA,OAAa,CAC5BC,QAAU,QAEZ,OAAOjB,EAAgBC,GAIzB,SAASqB,IACP,MAAMC,EAAOC,KAAKC,OAAO,IAAIC,MAAQC,WAC/B1B,EAAWe,IAAAA,OAAa,CAC5BC,QAAU,qBACVT,QAAS,CACP,wBAAyBe,EACzB,uBAAwB,uBACxB,2BAA4B,8CAGhC,OAAOtB,EAIT,SAAS2B,IACP,MAAM3B,EAAWe,IAAAA,OAAa,CAC5BC,QAAU,QAEZ,OAAOhB,EAIF,MAAM4B,EAAST,IAGKE,IAGJD,IAGFO,K,4LC9ErB,SAASE,IACP,OAAOX,EAAAA,GAAAA,IAAqB,WAI9B,SAASY,EAAaC,GACpB,OAAOb,EAAAA,GAAAA,IAAqB,WAAYa,GAI1C,SAASC,EAAeC,GACtB,OAAOf,EAAAA,GAAAA,KAAsB,kBAAmBe,GAIlD,SAASC,IACP,OAAOhB,EAAAA,GAAAA,IAAqB,UAI9B,SAASiB,IACP,OAAOjB,EAAAA,GAAAA,IAAqB,WAI9B,SAASkB,EAAUC,GACjB,OAAOnB,EAAAA,GAAAA,UAAyB,uBAAsBmB,O,mGC7BjDC,MAAM,e,GACTC,EAAAA,EAAAA,GAA0C,UAAlCD,MAAM,cAAa,UAAM,G,GAC5BA,MAAM,mB,GACJA,MAAM,qB,GACTC,EAAAA,EAAAA,GACC,QADKD,MAAM,8BAA6B,eAAqB,G,GACvDA,MAAM,wB,GACYC,EAAAA,EAAAA,GAA+B,cAAvB,QAAc,G,WAEqB,O,aAItEA,EAAAA,EAAAA,GAAwB,SAArB,qBAAiB,G,GAEjBD,MAAM,gB,GAkBTC,EAAAA,EAAAA,GAAiC,KAA9BD,MAAM,qBAAmB,S,WAAK,c,GAAjCE,EAAAA,G,0CAhCJC,EAAAA,EAAAA,IAkCM,MAlCN,EAkCM,CAjCJC,GACAH,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPJI,GACCJ,EAAAA,EAAAA,GAEA,OAFA,EAEA,mBADKK,EAAAA,OAAOC,UAAW,IAAC,GAAAC,KAEzBP,EAAAA,EAAAA,GAES,UAFDQ,KAAK,SAAUC,QAAK,oBAAEC,EAAAA,UAAAA,EAAAA,YAAAA,IAAUX,MAAM,uBAA9C,IACIC,EAAAA,EAAAA,GAAsB,OAAhBW,IAAKN,EAAAA,SAAO,OAAAO,OAGxBC,KAEFb,EAAAA,EAAAA,GAeM,MAfN,EAeM,EAdJA,EAAAA,EAAAA,GAMS,UALPQ,KAAK,SACJC,QAAK,oBAAEC,EAAAA,iBAAAA,EAAAA,mBAAAA,IACPX,OAAK,4BAAuBM,EAAAA,UAAS,uBACvC,WAED,IACAL,EAAAA,EAAAA,GAMS,UALPQ,KAAK,SACJC,QAAK,oBAAEC,EAAAA,gBAAAA,EAAAA,kBAAAA,IACPX,OAAK,4BAAuBM,EAAAA,UAAS,uBACvC,SAED,MAGFL,EAAAA,EAAAA,GAES,UAFAS,QAAK,oBAAEC,EAAAA,SAAAA,EAAAA,WAAAA,IAASX,MAAM,sBAA/B,K,4CAUJ,GACEe,OACE,MAAO,CACLC,QADK,EAELC,OAAQ,CACNV,SAAU,GACVW,SAAS,GAEXC,WAAW,EACXC,WAAW,IAGfC,sBACQC,KAAK/B,oBACL+B,KAAKC,OAAOC,OAAO,WAAYF,KAAKL,OAAOC,UAEnDO,QAAS,CACPC,WACEJ,KAAKK,QAAQC,KAAK,2BAEpBC,kBACE,IAAIC,EAAa,IACjBR,KAAKS,MAAM,WAAYD,GACvBR,KAAKH,WAAY,EACjBG,KAAKF,WAAY,GAEnBY,iBACE,IAAIF,EAAa,IACjBR,KAAKS,MAAM,WAAYD,GACvBR,KAAKH,WAAY,EACjBG,KAAKF,WAAY,GAGnBa,UAC6B,GAAvBX,KAAKL,OAAOC,QACdI,KAAKK,QAAQC,KAAK,UAElBN,KAAKK,QAAQC,KAAK,kBAItBP,oBACE,IACEtD,QAAQC,IAAI,kBACZ,MAAM,OAAEiD,SAAiB1B,EAAAA,EAAAA,MACzB+B,KAAKL,OAASA,EAAOF,KACrBhD,QAAQC,IAAIiD,GACZ,MAAO7C,GACPL,QAAQC,IAAII,EAAM8D,a,QCrF1B,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://croffle-frontend/./src/api/common/interceptors.js","webpack://croffle-frontend/./src/api/index.js","webpack://croffle-frontend/./src/api/mypage.js","webpack://croffle-frontend/./src/components/Mypage/MypageMainComponent.vue","webpack://croffle-frontend/./src/components/Mypage/MypageMainComponent.vue?ef53"],"sourcesContent":["import { getAuthFromCookie } from \"@/utils/cookies.js\";\n\nexport function setInterceptors(instance) {\n  // Add a request interceptor\n  instance.interceptors.request.use(\n    function (config) {\n      // Do something before request is sent\n      // console.log(config);\n      console.log(config);\n      config.headers.Authorization = `Bearer ${getAuthFromCookie()}`;\n      return config;\n    },\n    function (error) {\n      // Do something with request error\n      return Promise.reject(error);\n    }\n  );\n\n  // Add a response interceptor\n  instance.interceptors.response.use(\n    function (response) {\n      // Any status code that lie within the range of 2xx cause this function to trigger\n      // Do something with response data\n      return response;\n    },\n    function (error) {\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\n      // Do something with response error\n      // 재요청인데\n      return Promise.reject(error);\n    }\n  );\n  return instance;\n}\n","import axios from \"axios\";\n\nimport { setInterceptors } from \"./common/interceptors\";\n\n// 1. 액시오스 초기화 함수 - 회원 권한 필요 없는\nfunction createInstance() {\n  return axios.create({\n    // baseURL: process.env.VUE_APP_API_URL, // 안되면 '/'로 변경\n    // baseURL: `/api`,\n    baseURL: \"192.168.0.17:8080/\",\n  });\n  // return instance;\n  // return setInterceptors(instance);\n}\n\n// 2. 회원 권한 필요한 경우\nfunction createInstanceWithAuth() {\n  const instance = axios.create({\n    baseURL: `/api`,\n  });\n  return setInterceptors(instance);\n}\n\n// 1. 공통(회원 권한 x)\nexport const instance = createInstance();\n\n// 2. 회원 권한 필요한 경우\nexport const instanceWithAuth = createInstanceWithAuth();\n\n/*********** 네이버 ************/\n// 네이버 검색\nfunction createNaverInstance() {\n  return axios.create({\n    baseURL: `/v1/search`,\n    headers: {\n      \"X-Naver-Client-Id\": \"WDBUTDGAh6YGJ6Umihxr\",\n      \"X-Naver-Client-Secret\": \"Vjn2nII5K3\",\n    },\n  });\n  // return instance;\n}\n\n// 네이버 프로필 호출\nfunction createNaverProfile() {\n  const instance = axios.create({\n    baseURL: `/v4`,\n  });\n  return setInterceptors(instance);\n}\n\n// 네이버 GeoLocation 현재 위치 제공\nfunction createNaverGeoLocation() {\n  const time = Math.floor(+new Date()).toString();\n  const instance = axios.create({\n    baseURL: `/v3/geolocation/v2`,\n    headers: {\n      \"x-ncp-apigw-timestamp\": time,\n      \"x-ncp-iam-access-key\": \"wnm6dyQfAzJLgs1r8r9I\",\n      \"x-ncp-apigw-signature-v2\": \"l9RFKQeUe3n09f4cu2m6CWyayyoC0p5jgrPXerDf\",\n    },\n  });\n  return instance;\n}\n\n// ip 주소 가져오기\nfunction createIpInstance() {\n  const instance = axios.create({\n    baseURL: `/v2`,\n  });\n  return instance;\n}\n\n// 카페 제보 네이버 검색\nexport const search = createNaverInstance();\n\n// 현재 위치 정보 제공\nexport const geolocation = createNaverGeoLocation();\n\n// 네이버 프로필 호출\nexport const profile = createNaverProfile();\n\n// 클라이언드 ip 주소 제공\nexport const getIp = createIpInstance();\n","/* 마이페이지 api 함수 */\nimport { instanceWithAuth } from \"./index\";\n\n// 유저 마이페이지 조회(확인)\nfunction fetchMypage() {\n  return instanceWithAuth.get(\"user/me\");\n}\n\n// 닉네임 수정하기(확인)\nfunction editNickname(postData) {\n  return instanceWithAuth.put(\"nickname\", postData);\n}\n\n// 닉네임 검증(확인)\nfunction verifyNickname(nickName) {\n  return instanceWithAuth.post(\"nickname/verify\", nickName);\n}\n\n// 카페 별 모은 스탬프 리스트 보기(확인)\nfunction fetchStamps() {\n  return instanceWithAuth.get(\"stamps\");\n}\n\n// 카페 별 모은 쿠폰 리스트 전체 보기(확인)\nfunction fetchCoupons() {\n  return instanceWithAuth.get(\"coupons\");\n}\n\n// 내 쿠폰 사용하기(확인)\nfunction useCoupon(couponID) {\n  return instanceWithAuth.delete(`coupon/use?couponId=${couponID}`);\n}\n\nexport {\n  editNickname,\n  fetchStamps,\n  fetchCoupons,\n  fetchMypage,\n  useCoupon,\n  verifyNickname,\n};\n","<template>\n  <div class=\"mypage-main\">\n    <header class=\"page-title\">마이 페이지</header>\n    <div class=\"mypage__wrapper\">\n      <div class=\"mypage__user-info\">\n        <span class=\"mypage-main__text-croffler\">Croffler&nbsp;&nbsp; </span\n        ><span class=\"mypage-main__text-id\"\n          >{{ myData.nickname }} <strong> 님&nbsp;&nbsp;</strong></span\n        >\n        <button type=\"button\" @click=\"editInfo\" class=\"btn--sm btn--border\">\n          수정<img :src=\"ic_edit\" />\n        </button>\n      </div>\n      <p>크로플 원정을 떠나 보시겠어요?</p>\n    </div>\n    <div class=\"btn__wrapper\">\n      <button\n        type=\"button\"\n        @click=\"showScrapedList\"\n        :class=\"['btn--transparent', isActive1 ? 'active' : 'inActive']\"\n      >\n        예정된 원정\n      </button>\n      <button\n        type=\"button\"\n        @click=\"showCouponList\"\n        :class=\"['btn--transparent', isActive2 ? 'active' : 'inActive']\"\n      >\n        내 쿠폰\n      </button>\n    </div>\n    <!-- 사장님 회원일 경우에만 보여주기 -->\n    <button @click=\"toOwner\" class=\"btn__owner-service\">\n      <i class=\"fas fa-user-check\"></i> &nbsp;사장님 서비스\n    </button>\n  </div>\n</template>\n\n<script>\nimport ic_edit from \"@/assets/ic/edit.svg\";\nimport { fetchMypage } from \"@/api/mypage\";\n\nexport default {\n  data() {\n    return {\n      ic_edit,\n      myData: {\n        nickname: \"\",\n        isOwner: false,\n      },\n      isActive1: true,\n      isActive2: false,\n    };\n  },\n  async created() {\n    await this.fetchMypage();\n    await this.$store.commit(\"setOwner\", this.myData.isOwner);\n  },\n  methods: {\n    editInfo() {\n      this.$router.push(\"/mypage/changenickname\");\n    },\n    showScrapedList() {\n      let activeList = \"1\";\n      this.$emit(\"showList\", activeList);\n      this.isActive1 = true;\n      this.isActive2 = false;\n    },\n    showCouponList() {\n      let activeList = \"2\";\n      this.$emit(\"showList\", activeList);\n      this.isActive1 = false;\n      this.isActive2 = true;\n    },\n    // 오너 유무 데이터 타입 수정하기\n    toOwner() {\n      if (this.myData.isOwner == true) {\n        this.$router.push(\"/owner\");\n      } else {\n        this.$router.push(\"/owner/verify\");\n      }\n    },\n    // 마이 페이지 유저 정보 조회\n    async fetchMypage() {\n      try {\n        console.log(\"마이페이지 유저 정보 조회\");\n        const { myData } = await fetchMypage();\n        this.myData = myData.data;\n        console.log(myData);\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./MypageMainComponent.vue?vue&type=template&id=1b499a0e\"\nimport script from \"./MypageMainComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MypageMainComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Croffle-front/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["setInterceptors","instance","interceptors","request","use","config","console","log","headers","Authorization","getAuthFromCookie","error","Promise","reject","response","createInstance","axios","baseURL","createInstanceWithAuth","instanceWithAuth","createNaverInstance","createNaverProfile","createNaverGeoLocation","time","Math","floor","Date","toString","createIpInstance","search","fetchMypage","editNickname","postData","verifyNickname","nickName","fetchStamps","fetchCoupons","useCoupon","couponID","class","_createElementVNode","_hoisted_12","_createElementBlock","_hoisted_2","_hoisted_5","$data","nickname","_hoisted_7","type","onClick","$options","src","_hoisted_9","_hoisted_10","data","ic_edit","myData","isOwner","isActive1","isActive2","async","this","$store","commit","methods","editInfo","$router","push","showScrapedList","activeList","$emit","showCouponList","toOwner","message","__exports__","render"],"sourceRoot":""}