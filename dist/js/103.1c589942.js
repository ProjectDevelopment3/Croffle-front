"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[103],{1103:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(3396),s=n(7139),l=n(9242);const i={class:"cafe-view"},r={id:"report-component"},c={class:"page-title"},o={class:"input__box"},u=(0,a._)("div",null,[(0,a._)("label",null,"카페명"),(0,a._)("em",null,"*")],-1),d=(0,a._)("button",{type:"button",class:"btn--border--black btn--sm-2"}," 카페 검색하기 ",-1),h={key:1,class:"text__cafe-title"},p={class:"input__box"},f=(0,a._)("div",null,[(0,a._)("label",null,"도로명 주소"),(0,a._)("em",null,"*")],-1),m={class:"info"},_={class:"input__box"},b=(0,a._)("div",null,[(0,a._)("label",null,"메뉴"),(0,a._)("em",null,"*")],-1),g={class:"count"},v={class:"input__box"},w=(0,a._)("div",null,[(0,a._)("label",null,"가격"),(0,a._)("em",null,"*")],-1),y={class:"count"},k=["disabled"];function x(e,t,n,x,I,C){const z=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a._)("header",c,(0,s.zw)(I.header),1),(0,a._)("form",null,[(0,a._)("div",o,[u,""==this.cafeInfo?((0,a.wg)(),(0,a.j4)(z,{key:0,to:"/cafes/searchcafe"},{default:(0,a.w5)((()=>[d])),_:1})):(0,a.kq)("",!0),""!=this.cafeInfo?((0,a.wg)(),(0,a.iD)("div",h,(0,s.zw)(this.cafeInfo.title),1)):(0,a.kq)("",!0),(0,a._)("div",p,[f,(0,a._)("span",m,(0,s.zw)(this.cafeInfo.roadAddress),1)])]),(0,a._)("div",_,[b,(0,a.wy)((0,a._)("input",{placeholder:"메뉴를 입력해주세요.",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>this.menus.name=e),maxlength:"40"},null,512),[[l.nr,this.menus.name]]),(0,a._)("span",g,(0,s.zw)(C.priceLength)+"/40",1)]),(0,a._)("div",v,[w,(0,a.wy)((0,a._)("input",{placeholder:"가격을 입력해주세요.",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>this.menus.price=e),maxlength:"20",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,512),[[l.nr,this.menus.price]]),(0,a._)("span",y,(0,s.zw)(C.priceLength)+"/20",1)])]),(0,a._)("button",{type:"button",class:(0,s.C_)(["btn--md",C.isValid?"btnPrimary":"btnDisabled"]),disabled:0==C.isValid,onClick:t[2]||(t[2]=(...e)=>C.reportCafe&&C.reportCafe(...e))}," 완료 ",10,k)])])}var I=n(6265),C=n.n(I),z={created(){let e=!0;this.$store.commit("isHeaderActive",e)},props:{cafeInfo:{title:"",roadAddress:""}},data(){return{header:"카페 제보하기",menus:{name:"",price:""}}},computed:{isValid(){return!!(this.cafeInfo&&this.menus.name&&this.menus.price)},menuLength(){return this.menus.name.length},priceLength(){return this.menus.price.length}},methods:{async reportCafe(){try{console.log("카페 제보 폼 제출"),await C().post("http://34.64.139.239/report/menu",{cafeName:this.cafeInfo.title,roadAddress:this.cafeInfo.roadAddress,menuList:{name:this.menus.name,price:this.menus.price}},{headers:{Authorization:`Bearer ${this.$store.state.token}`}})}catch(e){console.log(e)}finally{this.initForm(),this.$router.push("/cafes")}},initForm(){this.cafeInfo.title=""},async searchCafe(){try{await C().get(`http://34.64.139.239/cafe/search?name=${this.cafeData}`)}catch(e){console.log(e)}}}},A=n(89);const $=(0,A.Z)(z,[["render",x]]);var L=$}}]);
//# sourceMappingURL=103.1c589942.js.map