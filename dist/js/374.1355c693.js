"use strict";(self["webpackChunkcroffle_frontend"]=self["webpackChunkcroffle_frontend"]||[]).push([[374],{1955:function(t,e,s){s.d(e,{$F:function(){return c},Bg:function(){return n},Qm:function(){return l},VN:function(){return i},l_:function(){return o}});var a=s(3376);function n(){return a.eE.get("user/me")}function o(t){return a.eE.put("nickname",t)}function c(){return a.eE.get("stamps")}function i(){return a.eE.get("coupons")}function l(){return a.eE.get("likes")}},7653:function(t,e,s){s.d(e,{Z:function(){return d}});var a=s(3396);const n={class:"modal"},o=(0,a._)("div",{class:"overlay"},null,-1),c={class:"modal-card"};function i(t,e,s,i,l,r){return(0,a.wg)(),(0,a.iD)("div",n,[o,(0,a._)("div",c,[(0,a.WI)(t.$slots,"default")])])}var l={},r=s(89);const p=(0,r.Z)(l,[["render",i]]);var d=p},9176:function(t,e,s){s.r(e),s.d(e,{default:function(){return U}});var a=s(3396);function n(t,e,s,n,o,c){const i=(0,a.up)("router-view"),l=(0,a.up)("scraped-list-component"),r=(0,a.up)("coupon-list-component"),p=(0,a.up)("coupon-modal-content"),d=(0,a.up)("modal-component");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i,{onShowList:c.showList,activeList:o.activeList,onSetMessage:c.setMessage,message:o.message},null,8,["onShowList","activeList","onSetMessage","message"]),1==o.activeList?((0,a.wg)(),(0,a.j4)(l,{key:0})):2==o.activeList?((0,a.wg)(),(0,a.j4)(r,{key:1,onModalActive:c.modalActive,isModalActive:o.isModalActive},null,8,["onModalActive","isModalActive"])):(0,a.kq)("",!0),o.isModalActive?((0,a.wg)(),(0,a.j4)(d,{key:2},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onCloseModal:e[0]||(e[0]=t=>o.isModalActive=!1)})])),_:1})):(0,a.kq)("",!0)])}var o=s(7139);const c={class:"mypage-scrap"},i=(0,a._)("h1",null,"예정된 원정",-1),l={class:"card__wrapper--column"},r={class:"card__title"},p={class:"card__text"};function d(t,e,s,n,d,u){return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("header",null,[i,(0,a._)("span",null,(0,o.zw)(d.scrapList.length),1)]),(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.scrapList,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"card"},[(0,a._)("span",r,(0,o.zw)(t.name),1),(0,a._)("span",p,(0,o.zw)(t.addr),1)])))),128))])])}var u=s(1955),_={created(){this.fetchScrapList()},data(){return{scrapList:[]}},methods:{async fetchScrapList(){try{console.log("마이페이지 - 내가 스크랩 한 리스트 조회");const{scrapList:t}=await(0,u.Qm)();this.scrapList=t.body.cafes,console.log(this.scrapLists)}catch(t){console.log(t.message)}}}},m=s(89);const f=(0,m.Z)(_,[["render",d]]);var v=f;const g={class:"mypage-membership"},h={class:"mypage-stamp"},w=(0,a._)("h1",null,"내가 모은 스탬프",-1),y={class:"card__wrapper--column"},D={class:"card__title"},k={class:"stamp-list"},L={class:"stamp-list"},b={class:"mypage-coupon"},C=(0,a._)("h1",null,"내가 모은 쿠폰",-1),A={class:"card__wrapper--column"},M={class:"card__text"},x={class:"card__text"};function z(t,e,s,n,c,i){return(0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",h,[(0,a._)("header",null,[w,(0,a._)("span",null,(0,o.zw)(c.stampData.length),1)]),(0,a._)("div",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.stampData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"card"},[(0,a._)("span",D,(0,o.zw)(t.cafe_name),1),(0,a._)("div",k,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(10,(t=>(0,a._)("i",{key:t,class:"fas fa-stroopwafel fa-3x"}))),64))]),(0,a._)("div",L,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.stampData[e].stamp_count,(t=>((0,a.wg)(),(0,a.iD)("i",{key:t,class:"fas fa-stroopwafel fa-3x stampActive"})))),128))])])))),128))])]),(0,a._)("div",b,[(0,a._)("header",null,[C,(0,a._)("span",null,(0,o.zw)(c.couponData.length),1)]),(0,a._)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.couponData,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:"card"},[(0,a._)("span",{onClick:e[0]||(e[0]=(...t)=>i.modalActive&&i.modalActive(...t)),class:"card__title"},(0,o.zw)(c.coupons.cafe_name),1),(0,a._)("span",M,(0,o.zw)(t.benefit),1),(0,a._)("span",x,(0,o.zw)(t.expire_date),1)])))),128))])])])}var S={data(){return{coupons:{cafe_name:"엔드테라스",benefit:"아메리카노(HOT/ICE) 1잔 무료",expire_date:"2022-0411 ~ 2022-05-11"},stampData:[{cafe_name:"엔드테라스",stamp_count:3},{cafe_name:"엔드테라스",stamp_count:2}],couponData:[{cafe_name:"엔드테라스",benefit:"아메리카노(HOT/ICE) 1잔 무료",expire_date:"2022-04-11 ~ 2022-05-11"}]}},created(){this.fetchStamps(),this.fetchCoupons()},methods:{modalActive(){let t=!0;this.$emit("modalActive",t)},async fetchStamps(){try{console.log("스탬프 조회");const{stampData:t}=(0,u.$F)();this.stampData=t.body.stamps,console.log(this.stampData)}catch(t){console.log(t.message)}},async fetchCoupons(){try{console.log("쿠폰 조회");const{couponData:t}=(0,u.VN)();this.couponData=t.body.coupons,console.log(this.couponData)}catch(t){console.log(t.message)}}}};const $=(0,m.Z)(S,[["render",z]]);var H=$,E=s(7653);const Z={class:"content-mypage"},K={class:"btn__close"},Y=["src"],I={class:"content__wrapper"},R={class:"content__wrapper--text"},j=["src"],O={class:"card__title"},T={class:"card__text--benefit"},W={class:"card__text--expire"},q=(0,a._)("input",{placeholder:"사장님 아이디를 입력하세요."},null,-1);function F(t,e,s,n,c,i){return(0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",K,[(0,a._)("button",{type:"button",class:"btn--transparent",onClick:e[0]||(e[0]=e=>t.$emit("close-modal"))},[(0,a._)("img",{src:c.ic__close},null,8,Y)])]),(0,a._)("div",I,[(0,a._)("div",R,[(0,a._)("img",{src:c.ic__ticket},null,8,j),(0,a._)("span",O,(0,o.zw)(c.coupons.cafe_name),1),(0,a._)("span",T,(0,o.zw)(c.coupons.benefit),1),(0,a._)("span",W,(0,o.zw)(c.coupons.expire_date),1)]),q,(0,a._)("button",{type:"button",class:"btn--primary",onClick:e[1]||(e[1]=(...t)=>i.addReport&&i.addReport(...t))}," 사용하기 ")])])}var N=s(8391),Q=s.p+"img/ticket.6fcdceec.svg",V={name:"ModalContent",props:{msg:String},data(){return{ic__close:N,ic__ticket:Q,coupons:{cafe_name:"엔드테라스",benefit:"아메리카노(HOT/ICE) 1잔 무료",expire_date:"2022-0411 ~ 2022-05-11"}}},methods:{addReport(){this.$emit("close-modal"),this.$router.push("/report/add")},modifyReport(){this.$emit("close-modal"),this.$router.push("/report/modify")}}};const B=(0,m.Z)(V,[["render",F]]);var G=B,J={components:{ScrapedListComponent:v,CouponListComponent:H,ModalComponent:E.Z,CouponModalContent:G},data(){return{message:"",activeList:1,isModalActive:!1}},methods:{setMessage(t){this.message=t},showList(t){this.activeList=t},modalActive(t){this.isModalActive=t}},created(){let t=!1;this.$store.commit("isHeaderActive",t)}};const P=(0,m.Z)(J,[["render",n]]);var U=P},8391:function(t,e,s){t.exports=s.p+"img/close.a59852f9.svg"}}]);
//# sourceMappingURL=374.1355c693.js.map